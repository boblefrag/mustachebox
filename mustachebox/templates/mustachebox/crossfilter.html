{% extends "base.html" %}
{% block js %}
{% include "mustachebox/includes/jsheader.html" %}
 <script type="text/javascript"
 src="{{STATIC_URL}}js/crossfilter.js"></script>
<style type="text/css" media="screen">
  body {
font-family: "Helvetica Neue";
margin: 40px auto;
width: 960px;
min-height: 2000px;
}
#body {
position: relative;
}
footer {
padding: 2em 0 1em 0;
font-size: 12px;
}
h1 {
font-size: 96px;
margin-top: .3em;
margin-bottom: 0;
}
h1 + h2 {
margin-top: 0;
}
h2 {
font-weight: 400;
font-size: 28px;
}
h1, h2 {
font-family: "Yanone Kaffeesatz";
text-rendering: optimizeLegibility;
}
#body > p {
line-height: 1.5em;
width: 640px;
text-rendering: optimizeLegibility;
}
#charts {
padding: 10px 0;
}
.chart {
display: inline-block;
height: 151px;
margin-bottom: 20px;
}
.reset {
padding-left: 1em;
font-size: smaller;
color: #ccc;
}
.background.bar {
fill: #ccc;
}
.foreground.bar {
fill: steelblue;
}
.axis path, .axis line {
fill: none;
stroke: #000;
shape-rendering: crispEdges;
}
.axis text {
font: 10px sans-serif;
}
.brush rect.extent {
fill: steelblue;
fill-opacity: .125;
}
.brush .resize path {
fill: #eee;
stroke: #666;
}
#hour-chart {
width: 260px;
}
#delay-chart {
width: 230px;
}
#distance-chart {
width: 420px;
}
#date-chart {
width: 920px;
}
#record-list {
min-height: 1024px;
}
#record-list .date,
#record-list .day {
margin-bottom: .4em;
}
#record-list .record {
line-height: 1.5em;
background: #eee;
width: 640px;
margin-bottom: 1px;
}
#record-list .time {
color: #999;
}
#record-list .record div {
display: inline-block;
width: 100px;
}
#record-list div.distance,
#record-list div.delay {
width: 160px;
padding-right: 10px;
text-align: right;
}
#record-list .early {
color: green;
}
aside {
position: absolute;
left: 740px;
font-size: smaller;
width: 220px;
} 
</style>

{% endblock js %}
{% block body %}
<h2>{{object.name}}</h2>
<script type="text/javascript">
  var data = {% autoescape off %}{{object.data}}{% endautoescape %}

</script>
<script type="text/javascript" src={{STATIC_URL}}js/crossfilter_graph.js>
</script>

  <h1>Cross Filter Test</h1>
  <div class= "container" style="margin-top:40px">
    <div id="filter" class="well span5" >
      <ul>
        <li><a href="javascript:filter([null,
        null,[90,100]])">Records where CPU usage is between 90 and 100
        %</a></li>
        <li><a href="javascript:filter([null,
        [90,100]])">Records where RAM usage is between 90 and 100
        %</a></li>
        <li><a href="javascript:filter([null,
        [90,100],[90,100]])">Records where RAM <b>and</b> CPU usage is between 90 and 100
        %</a></li>
       <li><a href="javascript:filter([null,null,null,[7,10]])">Records
        where Load average is between 7 and 10</a></li>
       <li><a href="javascript:filter([[20,24]])">Records between 20h and 24h</a></li>
      </ul>
    </div>
    <div class="well span5">
      <h2>Filter Form</h2>
      <form>
    <label>CPU</label>
        <div id="slider-cpu">
          
        </div>
<label>RAM</label>
        <div id="slider-ram">
          
        </div>
      </form>
    </div>
</div>
<div id="charts">
  <div id="hour-chart" class="chart">
    <div class="title">Time of Day</div>
  </div>
  <div id="ram-chart" class="chart">
    <div class="title">Ram Usage</div>
  </div>

  <div id="cpu-chart" class="chart">
    <div class="title">CPU Usage</div>
  </div>
  <div id="load-chart" class="chart">
    <div class="title">Load average</div>
  </div>


  <div id="date-chart" class="chart">
    <div class="title">Date</div>
  </div>
</div>

<aside id="totals"><span id="active">-</span> of <span id="total">-</span> records selected.</aside>

<div id="lists">
  <div id="record-list" class="list"></div>
</div>

{% endblock body %}
